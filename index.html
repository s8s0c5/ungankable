<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ungankable - Gank Validator</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: #1a1d23;
      color: #fff;
      margin: 0;
      padding: 24px 24px 72px;
      min-height: 100vh;
      max-width: 720px;
      margin: 0 auto;
    }
    .status-bar {
      text-align: center;
      font-size: 1.1rem;
      padding: 14px 20px;
      background: #252830;
      border-radius: 8px;
      margin-bottom: 28px;
      color: #fff;
    }
    .status-bar .label { font-style: italic; }
    .status-bar .label .name { font-style: normal; font-weight: 600; }
    .status-box {
      display: inline-block;
      padding: 6px 14px;
      border: 2px solid #22c55e;
      border-radius: 6px;
      color: #22c55e;
      font-weight: 600;
      animation: statusFlash 3s ease-in-out infinite;
    }
    @keyframes statusFlash {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }
    .evidence-link {
      position: fixed;
      bottom: 24px;
      left: 24px;
      font-size: 0.85rem;
      color: #fff;
      cursor: pointer;
      text-decoration: none;
    }
    .evidence-link:hover { text-decoration: underline; }
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      align-items: center;
      justify-content: center;
      z-index: 10;
    }
    .modal-overlay.open { display: flex; }
    .modal-box {
      background: #252830;
      border-radius: 8px;
      padding: 24px;
      max-width: 360px;
      width: 90%;
    }
    .modal-box .file-row { margin-bottom: 16px; }
    .modal-box input[type="file"] { display: block; margin-bottom: 16px; color: #fff; }
    .modal-box .submit-btn {
      display: block;
      width: 100%;
      padding: 10px 16px;
      background: #22c55e;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.95rem;
    }
    .modal-box .submit-btn:hover { background: #16a34a; }
    .modal-box .error { color: #ef4444; font-size: 0.85rem; margin-top: 8px; display: none; }
    .modal-box .error.show { display: block; }
    .scan-log {
      background: #111318;
      border: 1px solid #2d3239;
      border-radius: 6px;
      padding: 16px;
      font-size: 0.85rem;
      font-family: 'Consolas', monospace;
      min-height: 180px;
      overflow-y: auto;
      margin: 24px 0;
      display: none;
      color: #fff;
    }
    .scan-log.active { display: block; }
    .scan-line { margin: 6px 0; }
    .image-result {
      display: none;
      margin-top: 24px;
    }
    .image-result.active { display: block; }
    .image-container {
      position: relative;
      display: inline-block;
      max-width: 100%;
    }
    .image-container img {
      max-width: 100%;
      max-height: 400px;
      display: block;
      border-radius: 6px;
    }
    .image-container .x-overlay {
      position: absolute;
      inset: 0;
      pointer-events: none;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .image-container .x-overlay::before,
    .image-container .x-overlay::after {
      content: '';
      position: absolute;
      background: rgba(239,68,68,0.85);
      width: 8px;
      height: 140%;
      left: 50%;
      top: 0;
      transform: translateX(-50%) rotate(45deg);
    }
    .image-container .x-overlay::after {
      transform: translateX(-50%) rotate(-45deg);
    }
    .image-container .confirm-fake {
      position: relative;
      z-index: 2;
      color: #ef4444;
      font-size: 1.5rem;
      font-weight: 700;
      text-shadow: 0 0 12px rgba(0,0,0,0.9);
      letter-spacing: 0.1em;
    }
    .result {
      padding: 20px;
      background: #252830;
      border-radius: 8px;
      margin-top: 20px;
      display: none;
      border-left: 4px solid #ef4444;
    }
    .result.active { display: block; }
    .result h2 { color: #fff; margin-top: 0; font-size: 1rem; }
    .result p { color: #fff; margin: 0; }
  </style>
</head>
<body>
  <div class="status-bar">
    <span class="label">Status of <span class="name">Ungankable</span> (Tel Abim): </span><span class="status-box">UNGANKED</span>
  </div>

  <a href="#" class="evidence-link" id="evidenceLink">Do you have a valid claim that you ganked <em>Ungankable</em> on TelAbim? Submit your picture evidence here.</a>

  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-box">
      <div class="file-row">
        <input type="file" id="fileInput" accept="image/*">
      </div>
      <button type="button" class="submit-btn" id="submitBtn">Submit</button>
      <div class="error" id="fileError">Please select an image file.</div>
    </div>
  </div>

  <div class="scan-log" id="scanLog"></div>
  <div class="image-result" id="imageResult">
    <div class="image-container">
      <img id="resultImg" src="" alt="">
      <div class="x-overlay"></div>
      <div class="confirm-fake">CONFIRMED FAKE</div>
    </div>
  </div>
  <div class="result" id="result">
    <h2>VALIDATION RESULT</h2>
    <p>This image is confirmed to have been altered by AI.</p>
  </div>

  <script>
    const phrasePool = [
      'Initializing analysis module...',
      'Loading deepfake detection model v2.4...',
      'Scanning image metadata...',
      'Cross-referencing pixel authenticity matrix...',
      'Running temporal consistency check...',
      'Querying training data corruption index...',
      'Analyzing compression artifacts...',
      'Neural network inference in progress...',
      'Checking generative adversarial signatures...',
      'Satellite imagery cross-reference...',
      'Blockchain hash validation...',
      'LIDAR 3D reconstruction scan...',
      'Facial landmark analysis...',
      'Texture synthesis pattern detection...',
      'Color distribution profiling...',
      'Edge detection anomaly scan...',
      'Noise fingerprint analysis...',
      'EXIF data verification...',
      'Watermark detection protocol...',
      'Final classification layer processing...',
      'Generating verdict...'
    ];

    const evidenceLink = document.getElementById('evidenceLink');
    const modalOverlay = document.getElementById('modalOverlay');
    const input = document.getElementById('fileInput');
    const submitBtn = document.getElementById('submitBtn');
    const fileError = document.getElementById('fileError');
    const log = document.getElementById('scanLog');
    const imageResult = document.getElementById('imageResult');
    const resultImg = document.getElementById('resultImg');
    const result = document.getElementById('result');

    evidenceLink.onclick = (e) => { e.preventDefault(); fileError.classList.remove('show'); modalOverlay.classList.add('open'); };
    modalOverlay.onclick = (e) => { if (e.target === modalOverlay) modalOverlay.classList.remove('open'); };
    submitBtn.onclick = () => {
      fileError.classList.remove('show');
      if (!input.files.length) { fileError.textContent = 'Please select a file.'; fileError.classList.add('show'); return; }
      const file = input.files[0];
      if (!file.type.startsWith('image/')) { fileError.textContent = 'File must be an image.'; fileError.classList.add('show'); return; }
      modalOverlay.classList.remove('open');
      input.value = '';
      runValidation(file);
    };

    function addLog(text) {
      const line = document.createElement('div');
      line.className = 'scan-line';
      line.textContent = text;
      log.appendChild(line);
      log.scrollTop = log.scrollHeight;
    }

    function pickPhrases() {
      const count = 8 + Math.floor(Math.random() * 8);
      const shuffled = [...phrasePool].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, count);
    }

    async function runValidation(file) {
      if (!file.type.startsWith('image/')) return;
      result.classList.remove('active');
      imageResult.classList.remove('active');
      log.innerHTML = '';
      log.classList.add('active');

      resultImg.src = URL.createObjectURL(file);
      const phrases = pickPhrases();

      for (const p of phrases) {
        addLog(p);
        const base = 800 + Math.random() * 1200;
        const extra = Math.random() < 0.3 ? 1500 + Math.random() * 2000 : 0;
        await new Promise(r => setTimeout(r, base + extra));
      }

      addLog('Analysis complete.');
      await new Promise(r => setTimeout(r, 1200 + Math.random() * 800));
      imageResult.classList.add('active');
      result.classList.add('active');
    }
  </script>
</body>
</html>
